<!DOCTYPE html><html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebXR 카메라 디버그</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #eee; text-align: center; padding: 2rem; }
    video { width: 100%; max-width: 600px; margin-top: 1rem; background: black; }
    #log { background: #222; padding: 1rem; border-radius: 6px; margin-top: 1rem; white-space: pre-wrap; font-size: 0.9rem; }
  </style>
</head>
<body>
  <h1>📷 WebXR 카메라 테스트</h1>
  <p>아래에서 카메라 접근 상태를 확인합니다.</p>
  <video id="video" autoplay playsinline muted></video>
  <div id="log">로그 출력 중...</div>  <script>
    const log = msg => document.getElementById('log').textContent += `\n${msg}`;

    async function testCamera() {
      try {
        const constraints = {
          video: { facingMode: 'environment', width: { ideal: 1280 }, height: { ideal: 720 } }
        };
        const stream = await navigator.mediaDevices.getUserMedia(constraints);
        document.getElementById('video').srcObject = stream;

        const track = stream.getVideoTracks()[0];
        const settings = track.getSettings();
        const capabilities = track.getCapabilities();

        log('✅ 카메라 접근 성공');
        log(`사용 중인 해상도: ${settings.width}x${settings.height}`);
        log(`플래시(torch) 지원: ${capabilities.torch ? '예' : '아니오'}`);
      } catch (err) {
        log('❌ 카메라 접근 실패');
        log(err.message);
      }
    }

    testCamera();
  </script></body>
</html>
